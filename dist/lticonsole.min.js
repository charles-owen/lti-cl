!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LtiConsole=t():e.LtiConsole=t()}(window,function(){return(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[14],{"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&":function(e,t,s){(e.exports=s("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"a.searcher[data-v-52fd31c2] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 21px;\n  text-align: center;\n  background: #aaaaaa;\n}\na.searcher img[data-v-52fd31c2] {\n  height: 16px;\n  width: 16px;\n  vertical-align: -4px;\n}\ndiv.cl-input[data-v-52fd31c2] {\n  display: inline-block;\n  position: relative;\n  width: 300px;\n}\ndiv.cl-input input[data-v-52fd31c2] {\n  width: 100%;\n  border: 1px solid #cccccc;\n}\ndiv.cl-input div.cl-results[data-v-52fd31c2] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 100%;\n  overflow: hidden;\n  font-size: 0.85em;\n  background: white;\n  border-left: 1px solid black;\n  border-right: 1px solid black;\n  border-bottom: 1px solid black;\n}\ndiv.cl-input div.cl-results div.cl-result-list[data-v-52fd31c2] {\n  display: table;\n  width: 100%;\n}\ndiv.cl-input div.cl-results div.cl-result-list div[data-v-52fd31c2] {\n  display: table-row;\n  border-bottom: 1px solid #888888;\n  cursor: pointer;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-52fd31c2] {\n  display: table-cell;\n  white-space: nowrap;\n  text-align: left;\n  padding: 0.5em 0.25em;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span a[data-v-52fd31c2] {\n  text-decoration: none;\n  color: black;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span a[data-v-52fd31c2]:hover {\n  color: #888888;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-52fd31c2]:first-child {\n  font-style: italic;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-52fd31c2]:last-child {\n  overflow: hidden;\n  width: 99%;\n}\ndiv.cl-input div.cl-results div.cl-result-list div:first-child span[data-v-52fd31c2],\ndiv.cl-input div.cl-results div.cl-result-list div:last-child span[data-v-52fd31c2] {\n  padding: 0.25em 0.25em;\n}\ndiv.cl-input div.cl-results div.statement[data-v-52fd31c2] {\n  width: 100%;\n  text-align: center;\n  font-style: italic;\n}",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){(e.exports=s("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"div.cl-lti-console label span:first-child {\n  display: inline-block;\n  width: 10em;\n  text-align: right;\n  padding: 0 0.25em 0 0;\n}\ndiv.cl-lti-console input[type=text],\ndiv.cl-lti-console option {\n  padding: 1px 0.25em;\n}\ndiv.cl-lti-console select {\n  min-width: 15em;\n}\ndiv.cl-lti-console button:disabled {\n  color: gray;\n}",""])},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&":function(e,t,s){var o=s("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=(0,s("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("a17d7054",o,!1,{});o.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&",function(){var t=s("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&");"string"==typeof t&&(t=[[e.i,t,""]]),n(t)}),e.hot.dispose(function(){n()})},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){var o=s("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var n=(0,s("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("a19333e0",o,!1,{});o.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&",function(){var t=s("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&");"string"==typeof t&&(t=[[e.i,t,""]]),n(t)}),e.hot.dispose(function(){n()})},"./vendor/cl/course/js/Util/MemberSelectorVue.vue":function(e,t,s){"use strict";var o=s("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=template&id=52fd31c2&scoped=true&"),n=s("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=script&lang=js&"),l=(s("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=Object(l.a)(n.a,o.render,o.staticRenderFns,!1,null,"52fd31c2",null),i=s("./node_modules/vue-hot-reload-api/dist/index.js");i.install(s("./node_modules/vue/dist/vue.esm.js")),i.compatible&&(e.hot.accept(),e.hot.data?i.reload("52fd31c2",r.options):i.createRecord("52fd31c2",r.options),e.hot.accept("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=template&id=52fd31c2&scoped=true&",function(e){o=s("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=template&id=52fd31c2&scoped=true&"),i.rerender("52fd31c2",{render:o.render,staticRenderFns:o.staticRenderFns})})),r.options.__file="vendor/cl/course/js/Util/MemberSelectorVue.vue",t.a=r.exports},"./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";var o={props:["selected"],data:function(){return{query:"",result:[],noresult:!1,seq:1,fetched:!1,timer:null,set:!1,more:!1,searcher:Site.root+"/vendor/cl/site/img/search.png",deleter:Site.root+"/vendor/cl/site/img/x.png"}},watch:{query:function(e,t){var s=this;this.set?this.set=!1:(null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){s.fetch(e)},300))}},methods:{fetch:function(e){var t=this;if(console.log("fetch"),console.log(e),null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.selected(null),(e=e.trim()).length<2)return this.fetched=!1,void(this.result=[]);this.seq++;var s=this.$store.state.user.user.member,o={search:e,seq:this.seq,limit:20,semester:s.semester,section:s.section};Site.api.get("/api/course/members",o).then(function(e){if(e.hasError())Site.toast(t,e);else{if(+e.getData("seq").id!==t.seq)return;var s=e.getData("users");null!==s&&(t.result=[],t.more=!1,s.attributes.forEach(function(e){if("yes"!==e.more){var s=new Users.User(e);t.result.push(s)}else t.more=!0}),t.noresult=0===t.result.length)}}).catch(function(e){console.log(e),Site.toast(t,e)})},selectUser:function(e){this.query=e.name,this.set=!0,this.result=[],this.noresult=!1,this.more=!1,this.selected(e)},clear:function(){this.seq++,this.result=[],this.noresult=!1,this.more=!1,this.query="",this.selected(null)}}};t.a=o},"./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&":function(e,t,s){"use strict";var o=s("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&");s.n(o).a},"./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=template&id=52fd31c2&scoped=true&":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("div",{staticClass:"cl-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",maxlength:"150"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),e._v(" "),s("a",{staticClass:"searcher",on:{click:function(t){t.preventDefault(),e.fetch(e.query)}}},[s("img",{attrs:{src:e.searcher}})]),e._v(" "),e.result.length>0||e.noresult?s("div",{staticClass:"cl-results"},[s("div",{staticClass:"cl-result-list"},e._l(e.result,function(t){return s("div",{on:{click:function(s){s.preventDefault(),e.selectUser(t)}}},[s("span",[s("a",{on:{click:function(s){s.preventDefault(),e.selectUser(t)}}},[e._v(e._s(t.userId))])]),e._v(" "),s("span",[s("a",{on:{click:function(s){s.preventDefault(),e.selectUser(t)}}},[e._v(e._s(t.name))])])])}),0),e._v(" "),e.noresult?s("div",{staticClass:"statement"},[e._v("No results...")]):e._e(),e._v(" "),e.more?s("div",{staticClass:"statement"},[e._v("...more...")]):e._e()]):e._e()]),e._v(" "),s("a",{on:{click:function(t){return t.preventDefault(),e.clear(t)}}},[s("img",{attrs:{src:e.deleter}})])])},n=[];o._withStripped=!0,s.d(t,"render",function(){return o}),s.d(t,"staticRenderFns",function(){return n})},"./vendor/cl/lti/js/Console/LtiComponent.vue":function(e,t,s){"use strict";var o=s("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=template&id=68399a62&"),n=s("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=script&lang=js&"),l=(s("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=Object(l.a)(n.a,o.render,o.staticRenderFns,!1,null,null,null),i=s("./node_modules/vue-hot-reload-api/dist/index.js");i.install(s("./node_modules/vue/dist/vue.esm.js")),i.compatible&&(e.hot.accept(),e.hot.data?i.reload("68399a62",r.options):i.createRecord("68399a62",r.options),e.hot.accept("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=template&id=68399a62&",function(e){o=s("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=template&id=68399a62&"),i.rerender("68399a62",{render:o.render,staticRenderFns:o.staticRenderFns})})),r.options.__file="vendor/cl/lti/js/Console/LtiComponent.vue",t.a=r.exports},"./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";var o={data:function(){return{selectedAssignment:"any",selectedGrade:"any",user:null,assignTags:[],gradeTags:[],toView:Site.root+"/cl/lti/view",toDownload:Site.root+"/cl/lti/download",toDownloadImg:Site.root+"/vendor/cl/site/img/download.png",toViewImg:Site.root+"/vendor/cl/site/img/eye16.png",fetched:!1,results:[]}},mounted:function(){var e=this;this.$parent.setTitle(": LTI Auditing"),Site.api.get("/api/lti/items",{}).then(function(t){if(t.hasError())Site.toast(e,t);else{var s=t.getData("assigntags");null!==s&&(e.assignTags=s.attributes),null!==(s=t.getData("gradeTags"))&&(e.gradeTags=s.attributes)}}).catch(function(t){console.log(t),Site.toast(e,t)})},components:{"user-selector":s("./vendor/cl/course/js/Util/MemberSelectorVue.vue").a},methods:{selected:function(e){this.user=e},query:function(){var e=this;if(null!==this.user){this.fetched=!1;var t={memberId:this.user.member.id};"any"!==this.selectedAssignment&&(t.assignTag=this.selectedAssignment),"any"!==this.selectedGrade&&("none"===this.selectedGrade?t.gradeTag="":t.gradeTag=this.selectedGrade),Site.api.get("/api/lti",t).then(function(t){if(t.hasError())Site.toast(e,t);else{e.fetched=!0;var s=t.getData("outcomes");null!==s&&(console.log(s.attributes),e.results=s.attributes)}}).catch(function(t){console.log(t),Site.toast(e,t)})}},path:function(e){var t=""!==e.assignTag?e.assignTag:"-",s=""!==e.gradeTag?e.gradeTag:"-";return"/"+e.user.member.id+"/"+t+"/"+s}}};t.a=o},"./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){"use strict";var o=s("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&");s.n(o).a},"./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=template&id=68399a62&":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content cl-lti-console"},[s("div",{staticClass:"full"},[s("p",[s("label",[s("span",[e._v("Assignment: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedAssignment,expression:"selectedAssignment"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedAssignment=t.target.multiple?s:s[0]}}},[s("option",[e._v("any")]),e._v(" "),e._l(e.assignTags,function(t){return s("option",[e._v(e._s(t))])})],2)])]),e._v(" "),s("p",[s("label",[s("span",[e._v("Grade item: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGrade,expression:"selectedGrade"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedGrade=t.target.multiple?s:s[0]}}},[s("option",[e._v("any")]),e._v(" "),s("option",[e._v("none")]),e._v(" "),e._l(e.gradeTags,function(t){return s("option",[e._v(e._s(t))])})],2)])]),e._v(" "),s("p",[s("label",[s("span",[e._v("Member: ")]),s("user-selector",{attrs:{selected:e.selected}})],1)]),e._v(" "),s("p",{staticClass:"center"},[s("button",{attrs:{disabled:null===e.user},on:{click:function(t){t.preventDefault(),e.query()}}},[e._v("Query")])]),e._v(" "),e.fetched?s("div",[e.results.length>0?s("table",{staticClass:"small"},[e._m(0),e._v(" "),e._l(e.results,function(t){return s("tr",[s("td",{class:t.user.user.length>10?"small":""},[e._v(e._s(t.user.user))]),e._v(" "),s("td",[e._v(e._s(t.user.name))]),e._v(" "),s("td",[e._v(e._s(t.assignTag))]),e._v(" "),s("td",[e._v(e._s(t.gradeTag))]),e._v(" "),s("td",[s("a",{attrs:{href:e.toView+e.path(t),target:"_file"}},[s("img",{attrs:{src:e.toViewImg}})]),e._v(" "),s("a",{attrs:{href:e.toDownload+e.path(t)}},[s("img",{attrs:{src:e.toDownloadImg}})])]),e._v(" "),s("td",{staticClass:"small"},[e._v(e._s(t.createdStr))]),e._v(" "),s("td",{staticClass:"small"},[e._v(e._s(t.modifiedStr))])])})],2):e._e(),e._v(" "),0===e.results.length?s("p",{staticClass:"centerbox secondb center"},[e._v("No files...")]):e._e()]):e._e()])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("th",[e._v("User")]),e._v(" "),s("th",[e._v("Name")]),e._v(" "),s("th",[e._v("Assign")]),e._v(" "),s("th",[e._v("Item")]),e._v(" "),s("th",[e._v("File")]),e._v(" "),s("th",[e._v("Created")]),e._v(" "),s("th",[e._v("Modified")])])}];o._withStripped=!0,s.d(t,"render",function(){return o}),s.d(t,"staticRenderFns",function(){return n})},"./vendor/cl/lti/js/Console/index.js":function(e,t,s){"use strict";s.r(t);var o=s("./vendor/cl/users/js/Users/User.js"),n=s("./vendor/cl/lti/js/Console/LtiComponent.vue");new function(e){var t=e.console;t.tables.add({title:"LTI",order:90,api:"/api/lti/tables"}),t.components.addOption({atLeast:{tag:"lti-view-submissions",default:o.a.STAFF},page:{title:"Main",route:"",order:1},section:{title:"Lti",order:20},title:"LTI Submissions",order:1,route:"/lti",routes:[{route:"/lti",component:n.a}]})}(Site.Site)},"./vendor/cl/users/js/Users/User.js":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var o=function e(t){var s="G",o=null;void 0!==t?("string"==typeof t&&(t=JSON.parse(t)),this.id=t.id,s=t.role,this.name=t.name,this.email=t.email,this.userId=t.user,null!==(o=e.instantiateMember(t))&&(o.user=this)):(this.id=0,s="G",this.name="",this.email="",this.userId=""),Object.defineProperty(this,"member",{get:function(){return o}}),this.role=function(){return null!==o?o.role():s},this.setUserRole=function(e){s=e},this.userRole=function(){return s},this.setMember=function(e){null!==(o=e)&&(o.user=this)}};o.GUEST="G",o.USER="U",o.STAFF="S",o.ADMIN="A",o.getUserRoles=function(){var e={};return e[o.GUEST]={name:"Guest",priority:1},e[o.USER]={name:"User",priority:2},e[o.STAFF]={name:"Staff",priority:3},e[o.ADMIN]={name:"Admin",priority:4},e},o.prototype.getUserRoles=function(){return o.getUserRoles()},o.prototype.getRoles=function(){var e=this.member;return null!==e?e.getRoles():o.getUserRoles()},o.prototype.atLeast=function(e){var t=this.role(),s=this.getRoles();return!!s.hasOwnProperty(e)&&s[t].priority>=s[e].priority},o.prototype.getRolePriority=function(e){var t=this.getRoles();return t.hasOwnProperty(e)?t[e].priority:0},o.prototype.displayName=function(){var e=this.name.indexOf(",");if(e<0)return this.name;var t=this.name.substr(0,e);return this.name.substr(e+1).trim()+" "+t},o.prototype.userRoleName=function(){var e=this.getUserRoles()[this.userRole()];return void 0===e?"Invalid":!0===short&&void 0!==e.short?e.short:e.name},o.prototype.roleName=function(e){var t=this.getRoles()[this.role()];return void 0===t?"Invalid":!0===e&&void 0!==t.short?t.short:t.name},o.compare=function(e,t){var s=e.name.toLowerCase(),o=t.name.toLowerCase();return s<o?-1:s>o?1:e.id-t.id},o.instantiateMember=function(e){return null}}},[["./vendor/cl/lti/js/Console/index.js",0,1]]])});