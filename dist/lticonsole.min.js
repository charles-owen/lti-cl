!function(e,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.LtiConsole=s():e.LtiConsole=s()}(window,function(){return(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[14],{"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&":function(e,s,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"a.searcher[data-v-52fd31c2] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 21px;\n  text-align: center;\n  background: #aaaaaa;\n}\na.searcher img[data-v-52fd31c2] {\n  height: 16px;\n  width: 16px;\n  vertical-align: -4px;\n}\ndiv.cl-input[data-v-52fd31c2] {\n  display: inline-block;\n  position: relative;\n  width: 300px;\n}\ndiv.cl-input input[data-v-52fd31c2] {\n  width: 100%;\n  border: 1px solid #cccccc;\n}\ndiv.cl-input div.cl-results[data-v-52fd31c2] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 100%;\n  overflow: hidden;\n  font-size: 0.85em;\n  background: white;\n  border-left: 1px solid black;\n  border-right: 1px solid black;\n  border-bottom: 1px solid black;\n}\ndiv.cl-input div.cl-results div.cl-result-list[data-v-52fd31c2] {\n  display: table;\n  width: 100%;\n}\ndiv.cl-input div.cl-results div.cl-result-list div[data-v-52fd31c2] {\n  display: table-row;\n  border-bottom: 1px solid #888888;\n  cursor: pointer;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-52fd31c2] {\n  display: table-cell;\n  white-space: nowrap;\n  text-align: left;\n  padding: 0.5em 0.25em;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span a[data-v-52fd31c2] {\n  text-decoration: none;\n  color: black;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span a[data-v-52fd31c2]:hover {\n  color: #888888;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-52fd31c2]:first-child {\n  font-style: italic;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-52fd31c2]:last-child {\n  overflow: hidden;\n  width: 99%;\n}\ndiv.cl-input div.cl-results div.cl-result-list div:first-child span[data-v-52fd31c2],\ndiv.cl-input div.cl-results div.cl-result-list div:last-child span[data-v-52fd31c2] {\n  padding: 0.25em 0.25em;\n}\ndiv.cl-input div.cl-results div.statement[data-v-52fd31c2] {\n  width: 100%;\n  text-align: center;\n  font-style: italic;\n}",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"div.cl-lti-console label span:first-child {\n  display: inline-block;\n  width: 10em;\n  text-align: right;\n  padding: 0 0.25em 0 0;\n}\ndiv.cl-lti-console input[type=text],\ndiv.cl-lti-console option {\n  padding: 1px 0.25em;\n}\ndiv.cl-lti-console select {\n  min-width: 15em;\n}\ndiv.cl-lti-console button:disabled {\n  color: gray;\n}",""])},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&":function(e,s,t){var o=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var l=(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("a17d7054",o,!1,{});o.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&",function(){var s=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&");"string"==typeof s&&(s=[[e.i,s,""]]),l(s)}),e.hot.dispose(function(){l()})},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){var o=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var l=(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("a19333e0",o,!1,{});o.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&",function(){var s=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&");"string"==typeof s&&(s=[[e.i,s,""]]),l(s)}),e.hot.dispose(function(){l()})},"./vendor/cl/course/js/Util/MemberSelectorVue.vue":function(e,s,t){"use strict";var o=t("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=template&id=52fd31c2&scoped=true&"),l=t("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=script&lang=js&"),n=(t("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),d=Object(n.a)(l.a,o.render,o.staticRenderFns,!1,null,"52fd31c2",null),i=t("./node_modules/vue-hot-reload-api/dist/index.js");i.install(t("./node_modules/vue/dist/vue.esm.js")),i.compatible&&(e.hot.accept(),e.hot.data?i.reload("52fd31c2",d.options):i.createRecord("52fd31c2",d.options),e.hot.accept("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=template&id=52fd31c2&scoped=true&",function(e){o=t("./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=template&id=52fd31c2&scoped=true&"),i.rerender("52fd31c2",{render:o.render,staticRenderFns:o.staticRenderFns})})),d.options.__file="vendor/cl/course/js/Util/MemberSelectorVue.vue",s.a=d.exports},"./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";var o={props:["selected"],data:function(){return{query:"",result:[],noresult:!1,seq:1,fetched:!1,timer:null,set:!1,more:!1,searcher:Site.root+"/vendor/cl/site/img/search.png",deleter:Site.root+"/vendor/cl/site/img/x.png"}},watch:{query:function(e,s){var t=this;this.set?this.set=!1:(null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.fetch(e)},300))}},methods:{fetch:function(e){var s=this;if(console.log("fetch"),console.log(e),null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.selected(null),(e=e.trim()).length<2)return this.fetched=!1,void(this.result=[]);this.seq++;var t=this.$store.state.user.user.member,o={search:e,seq:this.seq,limit:20,semester:t.semester,section:t.section};Site.api.get("/api/course/members",o).then(function(e){if(e.hasError())Site.toast(s,e);else{if(+e.getData("seq").id!==s.seq)return;var t=e.getData("users");null!==t&&(s.result=[],s.more=!1,t.attributes.forEach(function(e){if("yes"!==e.more){var t=new Users.User(e);s.result.push(t)}else s.more=!0}),s.noresult=0===s.result.length)}}).catch(function(e){console.log(e),Site.toast(s,e)})},selectUser:function(e){this.query=e.name,this.set=!0,this.result=[],this.noresult=!1,this.more=!1,this.selected(e)},clear:function(){this.seq++,this.result=[],this.noresult=!1,this.more=!1,this.query="",this.selected(null)}}};s.a=o},"./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&":function(e,s,t){"use strict";var o=t("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=style&index=0&id=52fd31c2&lang=scss&scoped=true&");t.n(o).a},"./vendor/cl/course/js/Util/MemberSelectorVue.vue?vue&type=template&id=52fd31c2&scoped=true&":function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("span",[t("div",{staticClass:"cl-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",maxlength:"150"},domProps:{value:e.query},on:{input:function(s){s.target.composing||(e.query=s.target.value)}}}),e._v(" "),t("a",{staticClass:"searcher",on:{click:function(s){s.preventDefault(),e.fetch(e.query)}}},[t("img",{attrs:{src:e.searcher}})]),e._v(" "),e.result.length>0||e.noresult?t("div",{staticClass:"cl-results"},[t("div",{staticClass:"cl-result-list"},e._l(e.result,function(s){return t("div",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[t("span",[t("a",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[e._v(e._s(s.userId))])]),e._v(" "),t("span",[t("a",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[e._v(e._s(s.name))])])])}),0),e._v(" "),e.noresult?t("div",{staticClass:"statement"},[e._v("No results...")]):e._e(),e._v(" "),e.more?t("div",{staticClass:"statement"},[e._v("...more...")]):e._e()]):e._e()]),e._v(" "),t("a",{on:{click:function(s){return s.preventDefault(),e.clear(s)}}},[t("img",{attrs:{src:e.deleter}})])])},l=[];o._withStripped=!0,t.d(s,"render",function(){return o}),t.d(s,"staticRenderFns",function(){return l})},"./vendor/cl/lti/js/Console/LtiComponent.vue":function(e,s,t){"use strict";var o=t("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=template&id=68399a62&"),l=t("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=script&lang=js&"),n=(t("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),d=Object(n.a)(l.a,o.render,o.staticRenderFns,!1,null,null,null),i=t("./node_modules/vue-hot-reload-api/dist/index.js");i.install(t("./node_modules/vue/dist/vue.esm.js")),i.compatible&&(e.hot.accept(),e.hot.data?i.reload("68399a62",d.options):i.createRecord("68399a62",d.options),e.hot.accept("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=template&id=68399a62&",function(e){o=t("./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=template&id=68399a62&"),i.rerender("68399a62",{render:o.render,staticRenderFns:o.staticRenderFns})})),d.options.__file="vendor/cl/lti/js/Console/LtiComponent.vue",s.a=d.exports},"./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";var o={data:function(){return{selectedAssignment:"any",selectedGrade:"any",user:null,assignTags:[],gradeTags:[],toView:Site.root+"/cl/lti/view",toDownload:Site.root+"/cl/lti/download",toDownloadImg:Site.root+"/vendor/cl/site/img/download.png",toViewImg:Site.root+"/vendor/cl/site/img/eye16.png",fetched:!1,results:[]}},mounted:function(){var e=this;this.$parent.setTitle(": LTI Auditing"),Site.api.get("/api/lti/items",{}).then(function(s){if(s.hasError())Site.toast(e,s);else{var t=s.getData("assigntags");null!==t&&(e.assignTags=t.attributes),null!==(t=s.getData("gradeTags"))&&(e.gradeTags=t.attributes)}}).catch(function(s){console.log(s),Site.toast(e,s)})},components:{"user-selector":t("./vendor/cl/course/js/Util/MemberSelectorVue.vue").a},methods:{selected:function(e){this.user=e},query:function(){var e=this;if(null!==this.user){this.fetched=!1;var s={memberId:this.user.member.id};"any"!==this.selectedAssignment&&(s.assignTag=this.selectedAssignment),"any"!==this.selectedGrade&&("none"===this.selectedGrade?s.gradeTag="":s.gradeTag=this.selectedGrade),Site.api.get("/api/lti",s).then(function(s){if(s.hasError())Site.toast(e,s);else{e.fetched=!0;var t=s.getData("outcomes");null!==t&&(console.log(t.attributes),e.results=t.attributes)}}).catch(function(s){console.log(s),Site.toast(e,s)})}},path:function(e){var s=""!==e.assignTag?e.assignTag:"-",t=""!==e.gradeTag?e.gradeTag:"-";return"/"+e.user.member.id+"/"+s+"/"+t}}};s.a=o},"./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){"use strict";var o=t("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=style&index=0&lang=scss&");t.n(o).a},"./vendor/cl/lti/js/Console/LtiComponent.vue?vue&type=template&id=68399a62&":function(e,s,t){"use strict";t.r(s);var o=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"content cl-lti-console"},[t("div",{staticClass:"full"},[t("p",[t("label",[t("span",[e._v("Assignment: ")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedAssignment,expression:"selectedAssignment"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedAssignment=s.target.multiple?t:t[0]}}},[t("option",[e._v("any")]),e._v(" "),e._l(e.assignTags,function(s){return t("option",[e._v(e._s(s))])})],2)])]),e._v(" "),t("p",[t("label",[t("span",[e._v("Grade item: ")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGrade,expression:"selectedGrade"}],on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedGrade=s.target.multiple?t:t[0]}}},[t("option",[e._v("any")]),e._v(" "),t("option",[e._v("none")]),e._v(" "),e._l(e.gradeTags,function(s){return t("option",[e._v(e._s(s))])})],2)])]),e._v(" "),t("p",[t("label",[t("span",[e._v("Member: ")]),t("user-selector",{attrs:{selected:e.selected}})],1)]),e._v(" "),t("p",{staticClass:"center"},[t("button",{attrs:{disabled:null===e.user},on:{click:function(s){s.preventDefault(),e.query()}}},[e._v("Query")])]),e._v(" "),e.fetched?t("div",[e.results.length>0?t("table",{staticClass:"small"},[e._m(0),e._v(" "),e._l(e.results,function(s){return t("tr",[t("td",{class:s.user.user.length>10?"small":""},[e._v(e._s(s.user.user))]),e._v(" "),t("td",[e._v(e._s(s.user.name))]),e._v(" "),t("td",[e._v(e._s(s.assignTag))]),e._v(" "),t("td",[e._v(e._s(s.gradeTag))]),e._v(" "),t("td",[t("a",{attrs:{href:e.toView+e.path(s),target:"_file"}},[t("img",{attrs:{src:e.toViewImg}})]),e._v(" "),t("a",{attrs:{href:e.toDownload+e.path(s)}},[t("img",{attrs:{src:e.toDownloadImg}})])]),e._v(" "),t("td",{staticClass:"small"},[e._v(e._s(s.createdStr))]),e._v(" "),t("td",{staticClass:"small"},[e._v(e._s(s.modifiedStr))])])})],2):e._e(),e._v(" "),0===e.results.length?t("p",{staticClass:"centerbox secondb center"},[e._v("No files...")]):e._e()]):e._e()])])},l=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("tr",[t("th",[e._v("User")]),e._v(" "),t("th",[e._v("Name")]),e._v(" "),t("th",[e._v("Assign")]),e._v(" "),t("th",[e._v("Item")]),e._v(" "),t("th",[e._v("File")]),e._v(" "),t("th",[e._v("Created")]),e._v(" "),t("th",[e._v("Modified")])])}];o._withStripped=!0,t.d(s,"render",function(){return o}),t.d(s,"staticRenderFns",function(){return l})},"./vendor/cl/lti/js/Console/index.js":function(e,s,t){"use strict";t.r(s);var o=t("./vendor/cl/lti/js/Console/LtiComponent.vue"),l=Site.User;new function(e){var s=e.console;s.tables.add({title:"LTI",order:90,api:"/api/lti/tables"}),s.components.addOption({atLeast:{tag:"lti-view-submissions",default:l.STAFF},page:{title:"Main",route:"",order:1},section:{title:"Lti",order:20},title:"LTI Submissions",order:1,route:"/lti",routes:[{route:"/lti",component:o.a}]})}(Site.Site)}},[["./vendor/cl/lti/js/Console/index.js",0,1]]])});